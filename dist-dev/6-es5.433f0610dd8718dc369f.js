function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+T94":function(e,t,n){"use strict";n.r(t),n.d(t,"CmsModule",(function(){return T}));var i,a,r=n("SVse"),o=n("iInd"),s=n("mrSG"),c=n("s7LF"),u=n("8Y7J"),d=n("KTmB"),l=n("A1CT"),h=n("MuZe"),f=n.n(h);function p(e,t){}var g,m,y,v,b,C=((m=a=function(){function e(t,n){_classCallCheck(this,e),this.elementRef=t,this.ngZone=n,this.tagName="textarea",this.type="classic",this.ready=new u.n,this.dataReady=new u.n,this.change=new u.n,this.dataChange=new u.n,this.dragStart=new u.n,this.dragEnd=new u.n,this.drop=new u.n,this.fileUploadResponse=new u.n,this.fileUploadRequest=new u.n,this.focus=new u.n,this.paste=new u.n,this.afterPaste=new u.n,this.blur=new u.n,this._readOnly=null,this._data=null,this.editorUrl="https://cdn.ckeditor.com/4.14.1/standard-all/ckeditor.js"}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;(function(e){if(e.length<1)throw new TypeError("CKEditor URL must be a non-empty string.");return"CKEDITOR"in window?Promise.resolve(CKEDITOR):(i||(i=new Promise((function(t,n){f()(e,(function(e){e?n(e):(t(CKEDITOR),i=void 0)}))}))),i)})(this.editorUrl).then((function(){e.ngZone.runOutsideAngular(e.createEditor.bind(e))})).catch(window.console.error)}},{key:"ngOnDestroy",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.instance&&(e.instance.destroy(),e.instance=null)}))}},{key:"writeValue",value:function(e){this.data=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"createEditor",value:function(){var e=this,t=document.createElement(this.tagName);this.elementRef.nativeElement.appendChild(t),"divarea"===this.type&&(this.config=this.ensureDivareaPlugin(this.config||{}));var n="inline"===this.type?CKEDITOR.inline(t,this.config):CKEDITOR.replace(t,this.config);n.once("instanceReady",(function(t){e.instance=n,e.readOnly=null!==e._readOnly?e._readOnly:e.instance.readOnly,e.subscribe(e.instance);var i=n.undoManager;null!==e.data?(i&&i.lock(),n.setData(e.data,{callback:function(){e.data!==n.getData()&&n.fire(i?"change":"dataReady"),i&&i.unlock(),e.ngZone.run((function(){e.ready.emit(t)}))}})):e.ngZone.run((function(){e.ready.emit(t)}))}))}},{key:"subscribe",value:function(e){var t=this;e.on("focus",(function(e){t.ngZone.run((function(){t.focus.emit(e)}))})),e.on("paste",(function(e){t.ngZone.run((function(){t.paste.emit(e)}))})),e.on("afterPaste",(function(e){t.ngZone.run((function(){t.afterPaste.emit(e)}))})),e.on("dragend",(function(e){t.ngZone.run((function(){t.dragEnd.emit(e)}))})),e.on("dragstart",(function(e){t.ngZone.run((function(){t.dragStart.emit(e)}))})),e.on("drop",(function(e){t.ngZone.run((function(){t.drop.emit(e)}))})),e.on("fileUploadRequest",(function(e){t.ngZone.run((function(){t.fileUploadRequest.emit(e)}))})),e.on("fileUploadResponse",(function(e){t.ngZone.run((function(){t.fileUploadResponse.emit(e)}))})),e.on("blur",(function(e){t.ngZone.run((function(){t.onTouched&&t.onTouched(),t.blur.emit(e)}))})),e.on("dataReady",this.propagateChange,this),e.on(this.instance.undoManager?"change":"selectionCheck",this.propagateChange,this)}},{key:"propagateChange",value:function(e){var t=this;this.ngZone.run((function(){var n=t.instance.getData();"change"==e.name?t.change.emit(e):"dataReady"==e.name&&t.dataReady.emit(e),n!==t.data&&(t._data=n,t.dataChange.emit(n),t.onChange&&t.onChange(n))}))}},{key:"ensureDivareaPlugin",value:function(e){var t=e.extraPlugins,n=e.removePlugins;return t=(t=this.removePlugin(t,"divarea")||"").concat("string"==typeof t?",divarea":"divarea"),n&&n.includes("divarea")&&(n=this.removePlugin(n,"divarea"),console.warn("[CKEDITOR] divarea plugin is required to initialize editor using Angular integration.")),Object.assign({},e,{extraPlugins:t,removePlugins:n})}},{key:"removePlugin",value:function(e,t){if(!e)return null;var n="string"==typeof e;return n&&(e=e.split(",")),e=e.filter((function(e){return e!==t})),n&&(e=e.join(",")),e}},{key:"data",set:function(e){if(e!==this._data)return this.instance?(this.instance.setData(e),void(this._data=this.instance.getData())):void(this._data=e)},get:function(){return this._data}},{key:"readOnly",set:function(e){this.instance?this.instance.setReadOnly(e):this._readOnly=e},get:function(){return this.instance?this.instance.readOnly:this._readOnly}}]),e}()).\u0275fac=function(e){return new(e||m)(u.Qb(u.l),u.Qb(u.A))},m.\u0275cmp=u.Kb({type:m,selectors:[["ckeditor"]],inputs:{tagName:"tagName",type:"type",editorUrl:"editorUrl",data:"data",readOnly:"readOnly",config:"config"},outputs:{ready:"ready",dataReady:"dataReady",change:"change",dataChange:"dataChange",dragStart:"dragStart",dragEnd:"dragEnd",drop:"drop",fileUploadResponse:"fileUploadResponse",fileUploadRequest:"fileUploadRequest",focus:"focus",paste:"paste",afterPaste:"afterPaste",blur:"blur"},features:[u.Cb([{provide:c.k,useExisting:Object(u.V)((function(){return a})),multi:!0}])],decls:1,vars:0,template:function(e,t){1&e&&u.Fc(0,p,0,0,"ng-template")},encapsulation:2}),m),w=((g=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ob({type:g}),g.\u0275inj=u.Nb({factory:function(e){return new(e||g)},imports:[[c.h,r.c]]}),g),k=function(){return["500px"]},O=function(e){return[e]},R=function(e){return{height:e}},_=[{path:"",component:(y=function(){function e(t,n,i){var a=this;_classCallCheck(this,e),this.route=t,this.httpService=n,this.utilityService=i,this.cmsType=null,this.route.params.subscribe((function(e){a.cmsType=e.type,a.getCmsData(a.cmsType)}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.cmsForm=new c.f({cmsContent:new c.d})}},{key:"getCmsData",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.utilityService.showLoading(),t.next=4,this.httpService.get("/"+e);case 4:n=t.sent,this.cmsContent=n[0].content,this.utilityService.hideLoading(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.utilityService.hideLoading();case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"updateCmsData",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.utilityService.showLoading(),t={content:this.cmsForm.get("cmsContent").value},e.next=5,this.httpService.post("/"+this.cmsType,t);case 5:n=e.sent,this.utilityService.showSuccessToast(n.msg),this.utilityService.hideLoading(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.utilityService.hideLoading();case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}}]),e}(),y.\u0275fac=function(e){return new(e||y)(u.Qb(o.a),u.Qb(d.a),u.Qb(l.a))},y.\u0275cmp=u.Kb({type:y,selectors:[["app-cms"]],decls:14,vars:11,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","card-primary"],[1,"card-header"],[1,"title"],[3,"formGroup","ngSubmit"],["formControlName","cmsContent","id","ckeditor",3,"data","config"],[1,"update-button"],["type","submit",1,"btn","btn-success","m-3"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"div",3),u.Wb(4,"div",4),u.Wb(5,"div",5),u.Wb(6,"label",6),u.Hc(7),u.ic(8,"titlecase"),u.Vb(),u.Vb(),u.Wb(9,"form",7),u.ec("ngSubmit",(function(){return t.updateCmsData()})),u.Rb(10,"ckeditor",8),u.Wb(11,"div",9),u.Wb(12,"button",10),u.Hc(13,"Update"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(7),u.Ic(u.jc(8,4,t.cmsType)),u.Db(2),u.pc("formGroup",t.cmsForm),u.Db(1),u.pc("data",t.cmsContent)("config",u.sc(9,R,u.sc(7,O,u.rc(6,k)))))},directives:[c.s,c.n,c.g,C,c.m,c.e],pipes:[r.s],styles:[".update-button[_ngcontent-%COMP%]{display:flex}"]}),y)}],S=((b=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ob({type:b}),b.\u0275inj=u.Nb({factory:function(e){return new(e||b)},imports:[[o.i.forChild(_)],o.i]}),b),T=((v=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ob({type:v}),v.\u0275inj=u.Nb({factory:function(e){return new(e||v)},providers:[l.a],imports:[[r.c,S,w,c.h,c.q]]}),v)},MuZe:function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function i(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,a){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof t&&(a=t,t={}),a=a||function(){},o.type=(t=t||{}).type||"text/javascript",o.charset=t.charset||"utf8",o.async=!("async"in t)||!!t.async,o.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,t.attrs),t.text&&(o.text=""+t.text),("onload"in o?n:i)(o,a),o.onload||n(o,a),r.appendChild(o)}}}]);