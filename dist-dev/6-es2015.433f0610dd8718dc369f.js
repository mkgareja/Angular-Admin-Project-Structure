(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+T94":function(t,e,n){"use strict";n.r(e),n.d(e,"CmsModule",(function(){return O}));var i=n("SVse"),a=n("iInd"),s=n("mrSG"),r=n("s7LF"),o=n("8Y7J"),c=n("KTmB"),d=n("A1CT"),h=n("MuZe"),u=n.n(h);function l(t,e){}let g;var p;let m=(()=>{let t=p=class{constructor(t,e){this.elementRef=t,this.ngZone=e,this.tagName="textarea",this.type="classic",this.ready=new o.n,this.dataReady=new o.n,this.change=new o.n,this.dataChange=new o.n,this.dragStart=new o.n,this.dragEnd=new o.n,this.drop=new o.n,this.fileUploadResponse=new o.n,this.fileUploadRequest=new o.n,this.focus=new o.n,this.paste=new o.n,this.afterPaste=new o.n,this.blur=new o.n,this._readOnly=null,this._data=null,this.editorUrl="https://cdn.ckeditor.com/4.14.1/standard-all/ckeditor.js"}set data(t){if(t!==this._data)return this.instance?(this.instance.setData(t),void(this._data=this.instance.getData())):void(this._data=t)}get data(){return this._data}set readOnly(t){this.instance?this.instance.setReadOnly(t):this._readOnly=t}get readOnly(){return this.instance?this.instance.readOnly:this._readOnly}ngAfterViewInit(){(function(t){if(t.length<1)throw new TypeError("CKEditor URL must be a non-empty string.");return"CKEDITOR"in window?Promise.resolve(CKEDITOR):(g||(g=new Promise((e,n)=>{u()(t,t=>{t?n(t):(e(CKEDITOR),g=void 0)})})),g)})(this.editorUrl).then(()=>{this.ngZone.runOutsideAngular(this.createEditor.bind(this))}).catch(window.console.error)}ngOnDestroy(){this.ngZone.runOutsideAngular(()=>{this.instance&&(this.instance.destroy(),this.instance=null)})}writeValue(t){this.data=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}createEditor(){const t=document.createElement(this.tagName);this.elementRef.nativeElement.appendChild(t),"divarea"===this.type&&(this.config=this.ensureDivareaPlugin(this.config||{}));const e="inline"===this.type?CKEDITOR.inline(t,this.config):CKEDITOR.replace(t,this.config);e.once("instanceReady",t=>{this.instance=e,this.readOnly=null!==this._readOnly?this._readOnly:this.instance.readOnly,this.subscribe(this.instance);const n=e.undoManager;null!==this.data?(n&&n.lock(),e.setData(this.data,{callback:()=>{this.data!==e.getData()&&e.fire(n?"change":"dataReady"),n&&n.unlock(),this.ngZone.run(()=>{this.ready.emit(t)})}})):this.ngZone.run(()=>{this.ready.emit(t)})})}subscribe(t){t.on("focus",t=>{this.ngZone.run(()=>{this.focus.emit(t)})}),t.on("paste",t=>{this.ngZone.run(()=>{this.paste.emit(t)})}),t.on("afterPaste",t=>{this.ngZone.run(()=>{this.afterPaste.emit(t)})}),t.on("dragend",t=>{this.ngZone.run(()=>{this.dragEnd.emit(t)})}),t.on("dragstart",t=>{this.ngZone.run(()=>{this.dragStart.emit(t)})}),t.on("drop",t=>{this.ngZone.run(()=>{this.drop.emit(t)})}),t.on("fileUploadRequest",t=>{this.ngZone.run(()=>{this.fileUploadRequest.emit(t)})}),t.on("fileUploadResponse",t=>{this.ngZone.run(()=>{this.fileUploadResponse.emit(t)})}),t.on("blur",t=>{this.ngZone.run(()=>{this.onTouched&&this.onTouched(),this.blur.emit(t)})}),t.on("dataReady",this.propagateChange,this),t.on(this.instance.undoManager?"change":"selectionCheck",this.propagateChange,this)}propagateChange(t){this.ngZone.run(()=>{const e=this.instance.getData();"change"==t.name?this.change.emit(t):"dataReady"==t.name&&this.dataReady.emit(t),e!==this.data&&(this._data=e,this.dataChange.emit(e),this.onChange&&this.onChange(e))})}ensureDivareaPlugin(t){let{extraPlugins:e,removePlugins:n}=t;return e=this.removePlugin(e,"divarea")||"",e=e.concat("string"==typeof e?",divarea":"divarea"),n&&n.includes("divarea")&&(n=this.removePlugin(n,"divarea"),console.warn("[CKEDITOR] divarea plugin is required to initialize editor using Angular integration.")),Object.assign({},t,{extraPlugins:e,removePlugins:n})}removePlugin(t,e){if(!t)return null;const n="string"==typeof t;return n&&(t=t.split(",")),t=t.filter(t=>t!==e),n&&(t=t.join(",")),t}};return t.\u0275fac=function(e){return new(e||t)(o.Qb(o.l),o.Qb(o.A))},t.\u0275cmp=o.Kb({type:t,selectors:[["ckeditor"]],inputs:{tagName:"tagName",type:"type",editorUrl:"editorUrl",data:"data",readOnly:"readOnly",config:"config"},outputs:{ready:"ready",dataReady:"dataReady",change:"change",dataChange:"dataChange",dragStart:"dragStart",dragEnd:"dragEnd",drop:"drop",fileUploadResponse:"fileUploadResponse",fileUploadRequest:"fileUploadRequest",focus:"focus",paste:"paste",afterPaste:"afterPaste",blur:"blur"},features:[o.Cb([{provide:r.k,useExisting:Object(o.V)(()=>p),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&o.Fc(0,l,0,0,"ng-template")},encapsulation:2}),t})(),f=(()=>{let t=class{};return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[r.h,i.c]]}),t})();const y=function(){return["500px"]},b=function(t){return[t]},v=function(t){return{height:t}},w=[{path:"",component:(()=>{class t{constructor(t,e,n){this.route=t,this.httpService=e,this.utilityService=n,this.cmsType=null,this.route.params.subscribe(t=>{this.cmsType=t.type,this.getCmsData(this.cmsType)})}ngOnInit(){this.cmsForm=new r.f({cmsContent:new r.d})}getCmsData(t){return Object(s.a)(this,void 0,void 0,(function*(){try{this.utilityService.showLoading();const e=yield this.httpService.get("/"+t);this.cmsContent=e[0].content,this.utilityService.hideLoading()}catch(e){this.utilityService.hideLoading()}}))}updateCmsData(){return Object(s.a)(this,void 0,void 0,(function*(){try{this.utilityService.showLoading();const t={content:this.cmsForm.get("cmsContent").value},e=yield this.httpService.post("/"+this.cmsType,t);this.utilityService.showSuccessToast(e.msg),this.utilityService.hideLoading()}catch(t){this.utilityService.hideLoading()}}))}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(a.a),o.Qb(c.a),o.Qb(d.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-cms"]],decls:14,vars:11,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","card-primary"],[1,"card-header"],[1,"title"],[3,"formGroup","ngSubmit"],["formControlName","cmsContent","id","ckeditor",3,"data","config"],[1,"update-button"],["type","submit",1,"btn","btn-success","m-3"]],template:function(t,e){1&t&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"div",4),o.Wb(5,"div",5),o.Wb(6,"label",6),o.Hc(7),o.ic(8,"titlecase"),o.Vb(),o.Vb(),o.Wb(9,"form",7),o.ec("ngSubmit",(function(){return e.updateCmsData()})),o.Rb(10,"ckeditor",8),o.Wb(11,"div",9),o.Wb(12,"button",10),o.Hc(13,"Update"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Db(7),o.Ic(o.jc(8,4,e.cmsType)),o.Db(2),o.pc("formGroup",e.cmsForm),o.Db(1),o.pc("data",e.cmsContent)("config",o.sc(9,v,o.sc(7,b,o.rc(6,y)))))},directives:[r.s,r.n,r.g,m,r.m,r.e],pipes:[i.s],styles:[".update-button[_ngcontent-%COMP%]{display:flex}"]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[a.i.forChild(w)],a.i]}),t})(),O=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},providers:[d.a],imports:[[i.c,C,f,r.h,r.q]]}),t})()},MuZe:function(t,e){function n(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function i(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,e,a){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");"function"==typeof e&&(a=e,e={}),a=a||function(){},r.type=(e=e||{}).type||"text/javascript",r.charset=e.charset||"utf8",r.async=!("async"in e)||!!e.async,r.src=t,e.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(r,e.attrs),e.text&&(r.text=""+e.text),("onload"in r?n:i)(r,a),r.onload||n(r,a),s.appendChild(r)}}}]);